#!/usr/bin/env python3
import os
from pathlib import Path

devenv = Path(__file__).parent.resolve()

symlinks = [
    ("~/.alacritty.yml", "dotfiles/alacritty/alacritty.yml"),
    ("~/.config/atuin", "dotfiles/atuin"),
    ("~/.config/zed", "dotfiles/zed"),
    ("~/.dircolors", "dotfiles/dircolors/dircolors"),
    ("~/.emacs.d/init.el", "emacs-config/emacs.el"),
    ("~/.gitconfig", "dotfiles/git/gitconfig"),
    ("~/.hammerspoon/init.lua", "dotfiles/hammerspoon/init.lua"),
    ("~/.ohmyzsh", "ohmyzsh"),
    ("~/.pdbrc.py", "dotfiles/pdbrc.py"),
    ("~/.pdbrc.py", "dotfiles/pdbrc.py"),
    ("~/.pm.yml", "dotfiles/pm/pm.yml"),
    (
        "~/Library/Application\ Support/pypoetry/config.toml",
        "dotfiles/pypoetry/config.toml"
    ),
    ("~/.tmux.conf", "dotfiles/tmux/tmux.conf"),
    ("~/.zshrc", "shell-config/init.zsh"),
    ("~/bin", "bin"),
    (
        "~/Library/Application Support/Code - Insiders/User/keybindings.json",
        "dotfiles/vscode/keybindings.json",
    ),
    (
        "~/Library/Application Support/Code - Insiders/User/settings.json",
        "dotfiles/vscode/settings.json",
    ),
    (
        "~/Library/Application Support/Code - Insiders/User/statusbar_commands",
        "dotfiles/vscode/statusbar_commands",
    ),
    (
        "~/Library/Application Support/Code - Insiders/User/tasks.json",
        "dotfiles/vscode/tasks.json",
    ),
]

for source, target in symlinks:
    source = Path(source).expanduser()
    source.parent.mkdir(parents=True, exist_ok=True)
    target = devenv / target
    os.system(f'ln -sf "{target}" "{source}"')
